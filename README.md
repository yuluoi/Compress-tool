# 个人图片压缩工具

这是一个为 Termux 环境定制的个人交互式图片压缩脚本。

这个项目主要包含两个文件：
- `compress.sh`: 核心的交互式压缩工具。
- `install.sh`: 用于在新设备或重装系统后快速部署本工具的一键脚本。

---

## 🚀 一键部署

在新的 Termux 环境中，运行以下单行命令即可完成所有安装和配置。

```bash
bash <(curl -sL https://raw.githubusercontent.com/yuluoi/Compress-tool/main/install.sh)
```
**注意**: 安装完成后，需要**完全关闭并重新打开 Termux**，才能使新命令生效。

---

## 📖 使用指南

本工具被设计为通过一个全局命令 `yasuo` (或你在 `install.sh` 中自定义的名字) 来调用。整个过程是交互式的，会引导你完成每一步操作。

### 标准使用流程

1.  **准备图片**:
    *   打开你的手机文件管理器。
    *   进入 **内部存储**。
    *   找到或创建一个名为 `compress` 的文件夹。
    *   在 `compress` 文件夹内，找到或创建一个名为 `compress_in` 的文件夹。
    *   将所有**需要压缩的图片**复制或移动到 `compress/compress_in` 文件夹内。

2.  **运行压缩命令**:
    *   打开 Termux。
    *   在任何目录下，直接输入以下命令并回车：
        ```bash
        yasuo
        ```

3.  **跟随交互式提示**:
    *   **文件确认**: 脚本会首先扫描并列出所有在 `compress_in` 中找到的、且尚未被压缩过的新图片。你需要输入 `y` 确认是否继续。
    *   **设定质量**: 提示你输入一个 `1` 到 `100` 之间的压缩质量数值。可以直接按回车使用默认值（`85`）。
    *   **设定尺寸**: 提示你选择图片的最终尺寸。你可以：
        *   输入 `a`, `b`, 或 `c` 来选择预设的常用尺寸。
        *   直接输入自定义尺寸，例如 `1024x768` 或 `1024x768>`。

4.  **获取压缩结果**:
    *   脚本完成压缩后，所有处理好的图片都会被保存在 `compress/compress_out` 文件夹中，文件名与原文件保持一致。
    *   你可以回到文件管理器，在 `compress/compress_out` 目录中查看或使用这些压缩后的图片。

---

## ✨ 功能简述

*   **交互式流程**: 通过对话引导完成所有操作，无需记忆复杂参数。
*   **智能识别**: 自动扫描输入目录，并跳过已经压缩过的文件，避免重复工作。
*   **首次运行引导**: 如果是第一次使用，脚本会自动创建所需的目录结构并给出清晰的操作提示。
*   **灵活的参数设置**: 支持交互式地设定压缩质量和输出尺寸（包括预设选项和自定义尺寸）。
*   **健壮性**: 能正确处理包含空格、括号等特殊字符的文件名。
*   **全局命令**: 安装后，可以通过一个简短的自定义命令在任何地方调用此工具。

---

## 🔧 更新与维护

由于这是一个自用项目，更新流程非常简单。

1.  在本地克隆或修改 `compress.sh` 源代码。
2.  将修改后的 `compress.sh` 推送到本 GitHub 仓库。
3.  在需要更新的 Termux 设备上，重新运行上面的“一键部署”命令。安装脚本会自动覆盖旧版本，完成更新。

## ❌ 一键卸载

```bash
bash <(curl -sL https://raw.githubusercontent.com/yuluoi/Compress-tool/main/uninstall.sh)
```
